{"ast":null,"code":"var _jsxFileName = \"/Users/suhir/Desktop/Employee-Directory/src/components/UserContainer.js\";\nimport React from \"react\";\nimport \"./styles.css\";\nimport API from \"../utils/API\";\n\nclass UserContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      search: \"\",\n      sortDirection: \"\",\n      col: \"\"\n    };\n\n    this.handleSearchChange = e => {\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.renderUsers = () => {\n      return this.filteredUsers().sort(this.sortUsers).map((user, index) => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: user.image,\n          alt: \"user\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }\n        })), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }\n        }, user.first), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }\n        }, user.last), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }\n        }, user.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }\n        }, new Date(user.dob).toDateString()));\n      });\n    };\n\n    this.getHeaderClassName = col => {\n      return this.state.col === col ? `clickable ${this.state.sortDirection}` : `clickable`;\n    };\n\n    this.handleSortDirectionChange = col => {\n      this.state.col === col && this.state.sortDirection === \"ascending\" ? this.setState({\n        sortDirection: \"descending\",\n        col: col\n      }) : this.setState({\n        sortDirection: \"ascending\",\n        col: col\n      });\n    };\n\n    this.sortUsers = (a, b) => {\n      if (a[this.state.col] < b[this.state.col]) {\n        return this.state.sortDirection === \"ascending\" ? -1 : 1;\n      } else if (a[this.state.col] > b[this.state.col]) {\n        return this.state.sortDirection === \"ascending\" ? 1 : -1;\n      }\n\n      return 0;\n    };\n  }\n\n  //after the component mounts, send a get request to retrieve the users.\n  //Map over the response to create an array of user objects.\n  //Use setState to add the array to our users state.\n  componentDidMount() {\n    API.usersList().then(res => {\n      const userArray = res.data.results.map(user => {\n        return {\n          first: user.name.first,\n          last: user.name.last,\n          email: user.email,\n          dob: user.dob.date,\n          image: user.picture.medium\n        };\n      });\n      this.setState({\n        users: userArray\n      });\n    }).catch(err => console.log(err));\n  } //function to update search state each time the user types a character\n\n\n  //function to filter list to only show first/last that matches search\n  filteredUsers() {\n    const search = this.state.search.toLowerCase();\n    return this.state.users.filter(user => {\n      return user.first.toLowerCase().includes(search) || user.last.toLowerCase().includes(search);\n    });\n  } //function to render a table of users\n\n\n  //render the user container including search field\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleSearchChange,\n      type: \"search\",\n      className: \"form-control m-3\",\n      placeholder: \"Search\",\n      \"aria-label\": \"SearchBox\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table m-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.getHeaderClassName(\"first\"),\n      onClick: () => {\n        this.handleSortDirectionChange(\"first\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, \"First\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.getHeaderClassName(\"last\"),\n      onClick: () => this.handleSortDirectionChange(\"last\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 19\n      }\n    }, \"Last\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.getHeaderClassName(\"email\"),\n      onClick: () => this.handleSortDirectionChange(\"email\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, \"Email\")), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: this.getHeaderClassName(\"dob\"),\n      onClick: () => this.handleSortDirectionChange(\"dob\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, \"DOB\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, this.renderUsers()))));\n  }\n\n}\n\nexport default UserContainer;","map":{"version":3,"sources":["/Users/suhir/Desktop/Employee-Directory/src/components/UserContainer.js"],"names":["React","API","UserContainer","Component","state","users","search","sortDirection","col","handleSearchChange","e","setState","target","value","renderUsers","filteredUsers","sort","sortUsers","map","user","index","image","first","last","email","Date","dob","toDateString","getHeaderClassName","handleSortDirectionChange","a","b","componentDidMount","usersList","then","res","userArray","data","results","name","date","picture","medium","catch","err","console","log","toLowerCase","filter","includes","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles.css\";\nimport API from \"../utils/API\";\n\nclass UserContainer extends React.Component {\n  //set initial state\n  state = {\n    users: [],\n    search: \"\",\n    sortDirection: \"\",\n    col: \"\"\n  };\n\n  //after the component mounts, send a get request to retrieve the users.\n  //Map over the response to create an array of user objects.\n  //Use setState to add the array to our users state.\n  componentDidMount() {\n    API.usersList()\n      .then(res => {\n        const userArray = res.data.results.map(user => {\n          return {\n            first: user.name.first,\n            last: user.name.last,\n            email: user.email,\n            dob: user.dob.date,\n            image: user.picture.medium\n          };\n        });\n        this.setState({ users: userArray });\n      })\n      .catch(err => console.log(err));\n  }\n\n  //function to update search state each time the user types a character\n  handleSearchChange = e => {\n    this.setState({ search: e.target.value });\n  };\n\n  //function to filter list to only show first/last that matches search\n  filteredUsers() {\n    const search = this.state.search.toLowerCase();\n    return this.state.users.filter(user => {\n      return (\n        user.first.toLowerCase().includes(search) ||\n        user.last.toLowerCase().includes(search)\n      );\n    });\n  }\n\n  //function to render a table of users\n  renderUsers = () => {\n    return this.filteredUsers()\n      .sort(this.sortUsers)\n      .map((user, index) => {\n        return (\n          <tr key={index}>\n            <td>\n              <img src={user.image} alt=\"user\"></img>\n            </td>\n            <td>{user.first}</td>\n            <td>{user.last}</td>\n            <td>{user.email}</td>\n            <td>{new Date(user.dob).toDateString()}</td>\n          </tr>\n        );\n      });\n  };\n\n  //depending on which column was clicked, add or remove the arrow\n  //icon specifying the sort direction\n  getHeaderClassName = col => {\n    return this.state.col === col\n      ? `clickable ${this.state.sortDirection}`\n      : `clickable`;\n  };\n\n  //depending on which column was clicked, set the sort direction to\n  //the opposite of what it was.\n  handleSortDirectionChange = col => {\n    this.state.col === col && this.state.sortDirection === \"ascending\"\n      ? this.setState({ sortDirection: \"descending\", col: col })\n      : this.setState({ sortDirection: \"ascending\", col: col });\n  };\n\n  //function to return 1 or -1 to sort function depending on sort direction\n  sortUsers = (a, b) => {\n    if (a[this.state.col] < b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? -1 : 1;\n    } else if (a[this.state.col] > b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? 1 : -1;\n    }\n    return 0;\n  };\n\n  //render the user container including search field\n  render() {\n    return (\n      <>\n        <div className=\"input-group justify-content-center\">\n          <div className=\"input-group-prepend\"></div>\n          <input\n            onChange={this.handleSearchChange}\n            type=\"search\"\n            className=\"form-control m-3\"\n            placeholder=\"Search\"\n            aria-label=\"SearchBox\"\n            aria-describedby=\"basic-addon1\"\n          />\n        </div>\n        <div className=\"table m-3\">\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Image</th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"first\")}\n                    onClick={() => {\n                      this.handleSortDirectionChange(\"first\");\n                    }}\n                  >\n                    First\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"last\")}\n                    onClick={() => this.handleSortDirectionChange(\"last\")}\n                  >\n                    Last\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"email\")}\n                    onClick={() => this.handleSortDirectionChange(\"email\")}\n                  >\n                    Email\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"dob\")}\n                    onClick={() => this.handleSortDirectionChange(\"dob\")}\n                  >\n                    DOB\n                  </span>\n                </th>\n              </tr>\n            </thead>\n            <tbody>{this.renderUsers()}</tbody>\n          </table>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default UserContainer;\n"]},"metadata":{},"sourceType":"module"}