{"ast":null,"code":"import _classCallCheck from\"/Users/suhir/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/suhir/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/suhir/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/suhir/Desktop/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./styles.css\";import API from\"../utils/API\";var UserContainer=/*#__PURE__*/function(_React$Component){_inherits(UserContainer,_React$Component);var _super=_createSuper(UserContainer);function UserContainer(){var _this;_classCallCheck(this,UserContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[],search:\"\",sortDirection:\"\",col:\"\"};_this.handleSearchChange=function(e){_this.setState({search:e.target.value});};_this.renderUsers=function(){return _this.filteredUsers().sort(_this.sortUsers).map(function(user,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"img\",{src:user.image,alt:\"user\"})),/*#__PURE__*/React.createElement(\"td\",null,user.first),/*#__PURE__*/React.createElement(\"td\",null,user.last),/*#__PURE__*/React.createElement(\"td\",null,user.email),/*#__PURE__*/React.createElement(\"td\",null,new Date(user.dob).toDateString()));});};_this.getHeaderClassName=function(col){return _this.state.col===col?\"clickable \".concat(_this.state.sortDirection):\"clickable\";};_this.handleSortDirectionChange=function(col){_this.state.col===col&&_this.state.sortDirection===\"ascending\"?_this.setState({sortDirection:\"descending\",col:col}):_this.setState({sortDirection:\"ascending\",col:col});};_this.sortUsers=function(a,b){if(a[_this.state.col]<b[_this.state.col]){return _this.state.sortDirection===\"ascending\"?-1:1;}else if(a[_this.state.col]>b[_this.state.col]){return _this.state.sortDirection===\"ascending\"?1:-1;}return 0;};return _this;}_createClass(UserContainer,[{key:\"componentDidMount\",//after the component mounts, send a get request to retrieve the users.\n//Map over the response to create an array of user objects.\n//Use setState to add the array to our users state.\nvalue:function componentDidMount(){var _this2=this;API.usersList().then(function(res){var userArray=res.data.results.map(function(user){return{first:user.name.first,last:user.name.last,email:user.email,dob:user.dob.date,image:user.picture.medium};});_this2.setState({users:userArray});}).catch(function(err){return console.log(err);});}//function to update search state each time the user types a character\n},{key:\"filteredUsers\",//function to filter list to only show first/last that matches search\nvalue:function filteredUsers(){var search=this.state.search.toLowerCase();return this.state.users.filter(function(user){return user.first.toLowerCase().includes(search)||user.last.toLowerCase().includes(search);});}//function to render a table of users\n},{key:\"render\",//render the user container including search field\nvalue:function render(){var _this3=this;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"input-group justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-group-prepend\"}),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleSearchChange,type:\"search\",className:\"form-control m-3\",placeholder:\"Search\",\"aria-label\":\"SearchBox\",\"aria-describedby\":\"basic-addon1\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"table m-3\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table table-striped\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Image\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:this.getHeaderClassName(\"first\"),onClick:function onClick(){_this3.handleSortDirectionChange(\"first\");}},\"First\")),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:this.getHeaderClassName(\"last\"),onClick:function onClick(){return _this3.handleSortDirectionChange(\"last\");}},\"Last\")),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:this.getHeaderClassName(\"email\"),onClick:function onClick(){return _this3.handleSortDirectionChange(\"email\");}},\"Email\")),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:this.getHeaderClassName(\"dob\"),onClick:function onClick(){return _this3.handleSortDirectionChange(\"dob\");}},\"DOB\")))),/*#__PURE__*/React.createElement(\"tbody\",null,this.renderUsers()))));}}]);return UserContainer;}(React.Component);export default UserContainer;","map":{"version":3,"sources":["/Users/suhir/Desktop/Employee-Directory/src/components/UserContainer.js"],"names":["React","API","UserContainer","state","users","search","sortDirection","col","handleSearchChange","e","setState","target","value","renderUsers","filteredUsers","sort","sortUsers","map","user","index","image","first","last","email","Date","dob","toDateString","getHeaderClassName","handleSortDirectionChange","a","b","usersList","then","res","userArray","data","results","name","date","picture","medium","catch","err","console","log","toLowerCase","filter","includes","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles.css\";\nimport API from \"../utils/API\";\n\nclass UserContainer extends React.Component {\n  //set initial state\n  state = {\n    users: [],\n    search: \"\",\n    sortDirection: \"\",\n    col: \"\"\n  };\n\n  //after the component mounts, send a get request to retrieve the users.\n  //Map over the response to create an array of user objects.\n  //Use setState to add the array to our users state.\n  componentDidMount() {\n    API.usersList()\n      .then(res => {\n        const userArray = res.data.results.map(user => {\n          return {\n            first: user.name.first,\n            last: user.name.last,\n            email: user.email,\n            dob: user.dob.date,\n            image: user.picture.medium\n          };\n        });\n        this.setState({ users: userArray });\n      })\n      .catch(err => console.log(err));\n  }\n\n  //function to update search state each time the user types a character\n  handleSearchChange = e => {\n    this.setState({ search: e.target.value });\n  };\n\n  //function to filter list to only show first/last that matches search\n  filteredUsers() {\n    const search = this.state.search.toLowerCase();\n    return this.state.users.filter(user => {\n      return (\n        user.first.toLowerCase().includes(search) ||\n        user.last.toLowerCase().includes(search)\n      );\n    });\n  }\n\n  //function to render a table of users\n  renderUsers = () => {\n    return this.filteredUsers()\n      .sort(this.sortUsers)\n      .map((user, index) => {\n        return (\n          <tr key={index}>\n            <td>\n              <img src={user.image} alt=\"user\"></img>\n            </td>\n            <td>{user.first}</td>\n            <td>{user.last}</td>\n            <td>{user.email}</td>\n            <td>{new Date(user.dob).toDateString()}</td>\n          </tr>\n        );\n      });\n  };\n\n  //depending on which column was clicked, add or remove the arrow\n  //icon specifying the sort direction\n  getHeaderClassName = col => {\n    return this.state.col === col\n      ? `clickable ${this.state.sortDirection}`\n      : `clickable`;\n  };\n\n  //depending on which column was clicked, set the sort direction to\n  //the opposite of what it was.\n  handleSortDirectionChange = col => {\n    this.state.col === col && this.state.sortDirection === \"ascending\"\n      ? this.setState({ sortDirection: \"descending\", col: col })\n      : this.setState({ sortDirection: \"ascending\", col: col });\n  };\n\n  //function to return 1 or -1 to sort function depending on sort direction\n  sortUsers = (a, b) => {\n    if (a[this.state.col] < b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? -1 : 1;\n    } else if (a[this.state.col] > b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? 1 : -1;\n    }\n    return 0;\n  };\n\n  //render the user container including search field\n  render() {\n    return (\n      <>\n        <div className=\"input-group justify-content-center\">\n          <div className=\"input-group-prepend\"></div>\n          <input\n            onChange={this.handleSearchChange}\n            type=\"search\"\n            className=\"form-control m-3\"\n            placeholder=\"Search\"\n            aria-label=\"SearchBox\"\n            aria-describedby=\"basic-addon1\"\n          />\n        </div>\n        <div className=\"table m-3\">\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Image</th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"first\")}\n                    onClick={() => {\n                      this.handleSortDirectionChange(\"first\");\n                    }}\n                  >\n                    First\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"last\")}\n                    onClick={() => this.handleSortDirectionChange(\"last\")}\n                  >\n                    Last\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"email\")}\n                    onClick={() => this.handleSortDirectionChange(\"email\")}\n                  >\n                    Email\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.getHeaderClassName(\"dob\")}\n                    onClick={() => this.handleSortDirectionChange(\"dob\")}\n                  >\n                    DOB\n                  </span>\n                </th>\n              </tr>\n            </thead>\n            <tbody>{this.renderUsers()}</tbody>\n          </table>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default UserContainer;\n"]},"metadata":{},"sourceType":"module"}